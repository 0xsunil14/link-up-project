package org.link.linkup.controller;import com.razorpay.RazorpayException;import lombok.RequiredArgsConstructor;import org.link.linkup.dto.entity.User;import org.link.linkup.dto.response.common.ApiResponse;import org.link.linkup.service.PaymentService;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.*;import java.util.Map;@RestController@RequestMapping("/api/payment")@CrossOrigin(origins = {"http://localhost:3000", "http://localhost:5173"})@RequiredArgsConstructorpublic class PaymentController {    private final PaymentService paymentService;    /**     * Create Razorpay order for Prime membership     * POST /api/payment/create-prime-order     */    @PostMapping("/create-prime-order")    public ResponseEntity<ApiResponse<Map<String, Object>>> createPrimeOrder(User currentUser)            throws RazorpayException {        Map<String, Object> orderDetails = paymentService.createPrimeOrder(currentUser);        return ResponseEntity.ok(ApiResponse.success("Order created successfully", orderDetails));    }    /**     * Activate Prime membership after payment verification     * POST /api/payment/activate-prime     */    @PostMapping("/activate-prime")    public ResponseEntity<ApiResponse<Void>> activatePrime(User currentUser) {        paymentService.activatePrime(currentUser);        return ResponseEntity.ok(ApiResponse.success("Prime activated successfully", null));    }    /**     * Check Prime status     * GET /api/payment/prime-status     */    @GetMapping("/prime-status")    public ResponseEntity<ApiResponse<Map<String, Boolean>>> checkPrimeStatus(User currentUser) {        boolean isPrime = paymentService.isPrime(currentUser);        return ResponseEntity.ok(ApiResponse.success("Prime status fetched",                Map.of("isPrime", isPrime)));    }}