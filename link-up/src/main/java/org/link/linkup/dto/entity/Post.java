package org.link.linkup.dto.entity;import java.time.LocalDateTime;import java.util.ArrayList;import java.util.List;import org.hibernate.annotations.CreationTimestamp;import org.hibernate.annotations.UpdateTimestamp;import com.fasterxml.jackson.annotation.JsonIgnore;import jakarta.persistence.*;import lombok.*;@Data@Entity@Table(name = "posts")@NoArgsConstructor@AllArgsConstructor@Builderpublic class Post {    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Integer id;    @Column(name = "image_url")    private String imageUrl;    @Column(length = 2000)    private String caption;    @ManyToOne(fetch = FetchType.LAZY)    @JoinColumn(name = "user_id", nullable = false)    private User user;    @ManyToMany(fetch = FetchType.LAZY)    @JoinTable(            name = "post_likes",            joinColumns = @JoinColumn(name = "post_id"),            inverseJoinColumns = @JoinColumn(name = "user_id")    )    @JsonIgnore    @Builder.Default    private List<User> likedUsers = new ArrayList<>();    @OneToMany(mappedBy = "post", cascade = CascadeType.ALL, orphanRemoval = true)    @JsonIgnore    @Builder.Default    private List<Comment> comments = new ArrayList<>();    @Column(name = "created_at", updatable = false)    @CreationTimestamp    private LocalDateTime createdAt;    @Column(name = "updated_at")    @UpdateTimestamp    private LocalDateTime updatedAt;    /**     * Helper method for checking if user has liked the post     */    public boolean hasLiked(Integer userId) {        if (likedUsers == null || userId == null) {            return false;        }        return likedUsers.stream().anyMatch(user -> user.getId().equals(userId));    }}